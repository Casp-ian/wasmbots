<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>WasmBots Embedding Demonstration</title>
	<link rel="stylesheet" href="https://shaneliesegang.com/style.css">

	<!--
		Include this script file and **make sure** to set
		the data-script-id attribute to "wasmbotsEmbedScript"
		so that it can load its assets relative to itself.
	-->
	<script
		src="./wasmbots/wasmbots-embedded.iife.js"
		data-script-id="wasmbotsEmbedScript"
	>
	</script>
</head>
<body>
	<h1>WasmBots Embedding Demonstration</h1>
	<hr/>
	<p>
		This is just a simple example of how WasmBots can be embedded in a webpage
		as a standalone element. Everything else for this project is running as a
		<a href="https://svelte.dev/" target="_blank">SvelteKit</a> app, but this
		one is just plain old HTML, loading the entire engine as a single script
		and then hooking it to a custom element.
	</p>

	<p>Look at those little folks running around! They get loaded from a list of
		module files set as an attribute on the component.
		<a href="./index.html.txt" target="_blank">Take a look at the source and
		see for yourself!</a>
	</p>
	<p>
		You can <a href="./wasmbots-embed.tar.gz">download the component scripts
		here</a>.
	</p>



	<!--
		You can stick it in whatever div you want, obviously,
		and style/size it to your liking.
	-->
	<div class="aquarium" style="margin: auto;">
		<!--
			autoRun -- makes it start and loop forever,
					   otherwise you can call the step()
					   function on the element to go one
					   turn at a time.

			setup -- is a string of JSON specifying bots
					 and world parameters. most of them
					 are optional, but you probably want
					 to AT LEAST give some bots.

					 the urls need to either be absolute
					 or relative to the page that is
					 loading them, much like the src
					 attribute on an img element.
		-->
		<wasmbots-embed
			autoRun
			setup='{
				"botUrlList": [
					"../example_bots/wallflower.wasm",
					"../example_bots/wallflower.wasm",
					"../example_bots/explorer.wasm",
					"../example_bots/explorer.wasm"
				],
				"worldSeed": null,
				"map": "dynamic:dungeon",
				"mapSeed": null
			}'
		/>
	</div>



	<!--
		just a little button that makes the game
		run full screen (if allowed on this platform).
	-->
	<button
		class="fullScreen" aria-labelledby="fsButtonLabel"
		onclick="document.querySelector('.aquarium').requestFullscreen();"
		style="margin: 10px auto; display: flex; justify-content: center; align-items: center; padding: 5px;"
	>
		Show fullscreen (doesnâ€™t work on iPhones ðŸ˜”)
	</button>
</body>
</html>
